<div class="popup-box" [ngStyle]="{ 'right': rightOffset() }">
  <div class="popup-head">
    <div class="popup-head-left">{{ target.name }}</div>
    <div class="popup-head-right">
      <a href (click)="close($event)">&#10005;</a>
    </div>
    <div style="clear: both">
    </div>
  </div>
  <div #scrollMessages class="popup-messages" (scroll)="onScroll($event)">
    <div *ngIf="loading" class="popup-loading py-4">
      <div class="loading-prompt text-center">
        <i class='fa fa-spinner fa-spin mr-3'></i>Loading messages...
      </div>
    </div>
    <noe-chat-message *ngFor="let message of messages; let i = index"
      [index]="i"
      [message]="message"
      [jabber]="chooseJabber(message)"
      [isSentToMe]="isSentToMe(message)">
    </noe-chat-message>
  </div>
  <div class="popup-input">
    <input type="text"
      class="message-input"
      placeholder="Write your message here..."
      (keydown.enter)="onEnter($event)"
      [(ngModel)]="inputText"
    />
    <button class="btn btn-primary btn-send" (click)="onEnter($event)">Send</button>
  </div>
</div>